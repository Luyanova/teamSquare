/*! ! built on Tuesday, February 22nd 2022, 9:07:32 am */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=110)}([function(e,t){e.exports=window.wp.element},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var c,i=typeof r;if("string"==i||"number"==i)e.push(r);else if(Array.isArray(r))!r.length||(c=o.apply(null,r))&&e.push(c);else if("object"==i)if(r.toString===Object.prototype.toString)for(var l in r)n.call(r,l)&&r[l]&&e.push(l);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.url},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(51),o=n(52),c=n(35),i=n(53);e.exports=function(e,t){return r(e)||o(e,t)||c(e,t)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},,,function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.richText},function(e,t,n){var r=n(37);n="object"==typeof self&&self&&self.Object===Object&&self,n=r||n||Function("return this")();e.exports=n},function(e,t){e.exports=window.wp.primitives},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(48);e.exports=function(e,t){if(null==e)return{};var n,o=r(e,t);if(Object.getOwnPropertySymbols)for(var c=Object.getOwnPropertySymbols(e),i=0;i<c.length;i++)n=c[i],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n]);return o},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(49);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(50).default,o=n(3);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(57),o=n(31),c=n(58),i=n(30);e.exports=function(e,t,n){return e=i(e),n=null==n?0:r(c(n),0,e.length),t=o(t),e.slice(n,n+t.length)==t}},function(e,t){e.exports=window.regeneratorRuntime},function(e,t,n){n=n(15).Symbol,e.exports=n},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(26),o=n(27);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(23),o=n(55),c=n(56),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(i&&i in Object(e)?o:c)(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},,,function(e,t,n){var r=n(31);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(23),o=n(38),c=n(17),i=n(25),l=(r=r?r.prototype:void 0)?r.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(c(t))return o(t,e)+"";if(i(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=window.wp.blockEditor},function(e,t){function n(e,t,n,r,o,c,i){try{var l=e[c](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,c){var i=e.apply(t,r);function l(e){n(i,o,c,l,s,"next",e)}function s(e){n(i,o,c,l,s,"throw",e)}l(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},,function(e,t,n){var r=n(36);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){(function(t){t="object"==typeof t&&t&&t.Object===Object&&t,e.exports=t}).call(this,n(54))},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(60),o=n(24),c=n(25),i=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(c(e))return NaN;if(o(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=o(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=r(e);var t=l.test(e);return t||s.test(e)?a(e.slice(2),t?2:8):i.test(e)?NaN:+e}},,,,,,function(e,t){e.exports=function(){}},,,function(e,t){e.exports=function(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),c=0;c<o.length;c++)n=o[c],0<=t.indexOf(n)||(r[n]=e[n]);return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);i=!0);}catch(e){l=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return c}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(23),o=(n=Object.prototype).hasOwnProperty,c=n.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,i),n=e[i];try{var r=!(e[i]=void 0)}catch(e){}var l=c.call(e);return r&&(t?e[i]=n:delete e[i]),l}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=t<=e?e:t)),e}},function(e,t,n){var r=n(59);e.exports=function(e){var t=r(e);e=t%1;return t==t?e?t-e:t:0}},function(e,t,n){var r=n(39);e.exports=function(e){return e?(e=r(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}},function(e,t,n){var r=n(61),o=/^\s+/;e.exports=function(e){return e&&e.slice(0,r(e)+1).replace(o,"")}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=window.wp.htmlEntities},function(e,t,n){var r=n(30),o=0;e.exports=function(e){var t=++o;return r(e)+t}},function(e,t){e.exports=window.wp.compose},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.dom},function(e,t){e.exports=window.wp.editor},,,,,,,,,,,,,,,,,,,,function(e,t,n){n(211),e.exports=n(111)},function(e,t,n){"use strict";n.r(t)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(18),o=n.n(r),c=(t=n(6),n.n(t)),i=(r=n(7),n.n(r)),l=(t=n(3),n.n(t)),s=(r=n(19),n.n(r)),a=(t=n(20),n.n(t)),u=(r=n(10),n.n(r)),p=n(0),f=n(2),b=n(5),d=n(14),m=n(4),O=n(32),g=n(85),v=(t=n(16),Object(p.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(p.createElement)(t.Path,{d:"M15.6 7.3h-.7l1.6-3.5-.9-.4-3.9 8.5H9v1.5h2l-1.3 2.8H8.4c-2 0-3.7-1.7-3.7-3.7s1.7-3.7 3.7-3.7H10V7.3H8.4c-2.9 0-5.2 2.3-5.2 5.2 0 2.9 2.3 5.2 5.2 5.2H9l-1.4 3.2.9.4 5.7-12.5h1.4c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7H14v1.5h1.6c2.9 0 5.2-2.3 5.2-5.2 0-2.9-2.4-5.2-5.2-5.2z"}))),h=Object(p.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(p.createElement)(t.Path,{d:"M15.6 7.2H14v1.5h1.6c2 0 3.7 1.7 3.7 3.7s-1.7 3.7-3.7 3.7H14v1.5h1.6c2.8 0 5.2-2.3 5.2-5.2 0-2.9-2.3-5.2-5.2-5.2zM4.7 12.4c0-2 1.7-3.7 3.7-3.7H10V7.2H8.4c-2.9 0-5.2 2.3-5.2 5.2 0 2.9 2.3 5.2 5.2 5.2H10v-1.5H8.4c-2 0-3.7-1.7-3.7-3.7zm4.6.9h5.3v-1.5H9.3v1.5z"})),j=(r=n(13),n.n(r)),y=(r=n(9),n.n(r)),x=(r=n(86),n.n(r)),_=(r=n(8),n.n(r)),k=(r=n(33),n.n(r)),w=(r=n(22),n.n(r)),S=(r=n(1),n.n(r)),E=(r=n(45),n.n(r)),P=(r=n(21),n.n(r)),C=n(87),N=n(88),T=n(89);function M(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=[{id:"opensInNewTab",title:Object(f.__)("Open in new tab"),type:"ToggleControl"},{id:"nofollow",title:Object(f.__)('Add "nofollow" to link',"all-in-one-seo-pack"),type:"ToggleControl"},{id:"sponsored",title:Object(f.__)('Add "sponsored" to link',"all-in-one-seo-pack"),type:"ToggleControl"},{id:"ugc",title:Object(f.__)('Add "ugc" to link',"all-in-one-seo-pack"),type:"ToggleControl"},{id:"title",title:Object(f.__)("Add title attribute to link","all-in-one-seo-pack"),type:"TextControl"}],A=function(e){var t=e.value,n=e.onChange,r=void 0===n?E.a:n;return(e=void 0===(e=e.settings)?R:e)&&e.length?(e=e.map((function(e){if("TextControl"!==e.type)return"ToggleControl"===e.type?Object(p.createElement)(b.ToggleControl,{className:"block-editor-link-control__setting",key:e.id,label:e.title,onChange:(n=e,function(e){r(L(L({},t),{},j()({},n.id,e)))}),checked:!!t&&!!t[e.id]}):null;var n,o=Object(p.useState)(),c=y()(o,2),i=(o=c[0],c[1]);return Object(p.createElement)(b.TextControl,{"data-aioseop":"true",className:"block-editor-link-control__setting aioseo-link-title",key:e.id,label:e.title,onChange:function(e){i(e)},onBlur:function(n){t.url?r(L(L({},t),{},j()({},e.id,n.target.value))):i(n.target.value)},value:o||t[e.id]})})),Object(p.createElement)("fieldset",{className:"block-editor-link-control__settings"},Object(p.createElement)(b.VisuallyHidden,{as:"legend"},Object(f.__)("Currently selected link settings")),e)):null};function H(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function I(e){var t=e.icon,n=void 0===(n=e.size)?24:n;e=function(e,t){if(null==e)return{};var n,r=function(e,t){if(null==e)return{};for(var n,r={},o=Object.keys(e),c=0;c<o.length;c++)n=o[c],0<=t.indexOf(n)||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(e),c=0;c<o.length;c++)n=o[c],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}(e,["icon","size"]);return Object(p.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){var r,o;r=e,t=n[o=t],o in r?Object.defineProperty(r,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[o]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:n,height:n},e))}var F=Object(p.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(p.createElement)(t.Path,{d:"M9 0C4.03 0 0 4.03 0 9s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zM1.11 9.68h2.51c.04.91.167 1.814.38 2.7H1.84c-.403-.85-.65-1.764-.73-2.7zm8.57-5.4V1.19c.964.366 1.756 1.08 2.22 2 .205.347.386.708.54 1.08l-2.76.01zm3.22 1.35c.232.883.37 1.788.41 2.7H9.68v-2.7h3.22zM8.32 1.19v3.09H5.56c.154-.372.335-.733.54-1.08.462-.924 1.255-1.64 2.22-2.01zm0 4.44v2.7H4.7c.04-.912.178-1.817.41-2.7h3.21zm-4.7 2.69H1.11c.08-.936.327-1.85.73-2.7H4c-.213.886-.34 1.79-.38 2.7zM4.7 9.68h3.62v2.7H5.11c-.232-.883-.37-1.788-.41-2.7zm3.63 4v3.09c-.964-.366-1.756-1.08-2.22-2-.205-.347-.386-.708-.54-1.08l2.76-.01zm1.35 3.09v-3.04h2.76c-.154.372-.335.733-.54 1.08-.464.92-1.256 1.634-2.22 2v-.04zm0-4.44v-2.7h3.62c-.04.912-.178 1.817-.41 2.7H9.68zm4.71-2.7h2.51c-.08.936-.327 1.85-.73 2.7H14c.21-.87.337-1.757.38-2.65l.01-.05zm0-1.35c-.046-.894-.176-1.78-.39-2.65h2.16c.403.85.65 1.764.73 2.7l-2.5-.05zm1-4H13.6c-.324-.91-.793-1.76-1.39-2.52 1.244.56 2.325 1.426 3.14 2.52h.04zm-9.6-2.52c-.597.76-1.066 1.61-1.39 2.52H2.65c.815-1.094 1.896-1.96 3.14-2.52zm-3.15 12H4.4c.324.91.793 1.76 1.39 2.52-1.248-.567-2.33-1.445-3.14-2.55l-.01.03zm9.56 2.52c.597-.76 1.066-1.61 1.39-2.52h1.76c-.82 1.08-1.9 1.933-3.14 2.48l-.01.04z"})),z=function(e){var t=e.itemProps,n=e.suggestion,r=void 0!==(c=e.isSelected)&&c,o=e.onClick,c=void 0!==(c=e.isURL)&&c;e=void 0===(e=e.searchTerm)?"":e;return Object(p.createElement)(b.Button,_()({},t,{onClick:o,className:S()("block-editor-link-control__search-item",{"is-selected":r,"is-url":c,"is-entity":!c})}),c&&Object(p.createElement)(I,{className:"block-editor-link-control__search-item-icon",icon:F}),Object(p.createElement)("span",{className:"block-editor-link-control__search-item-header"},Object(p.createElement)("span",{className:"block-editor-link-control__search-item-title"},Object(p.createElement)(b.TextHighlight,{text:n.title,highlight:e})),Object(p.createElement)("span",{"aria-hidden":!c,className:"block-editor-link-control__search-item-info"},!c&&(Object(m.safeDecodeURI)(n.url)||""),c&&Object(f.__)("Press ENTER to add this link"))),n.type&&Object(p.createElement)("span",{className:"block-editor-link-control__search-item-type"},n.type))},D=Object(p.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(p.createElement)(t.Path,{d:"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z"})),U=n(90),V=function(e){var t=e.value,n=e.onChange,r=e.onSelect,o=e.renderSuggestions,c=e.fetchSuggestions,i=e.showInitialSuggestions,l=e.errorMessage,s=(e=Object(p.useState)(),(e=y()(e,2))[0]),a=e[1];return Object(p.createElement)("form",{onSubmit:function(e){e.preventDefault(),r(s||{url:t})}},Object(p.createElement)("div",{className:"block-editor-link-control__search-input-wrapper"},Object(p.createElement)(U.URLInput,{className:"block-editor-link-control__search-input",value:t,onChange:function(e,t){n(e),a(t)},placeholder:Object(f.__)("Search or type url"),__experimentalRenderSuggestions:o,__experimentalFetchLinkSuggestions:c,__experimentalHandleURLSuggestions:!0,__experimentalShowInitialSuggestions:i}),Object(p.createElement)("div",{className:"block-editor-link-control__search-actions"},Object(p.createElement)(b.Button,{type:"submit",label:Object(f.__)("Submit"),icon:D,className:"block-editor-link-control__search-submit"}))),l&&Object(p.createElement)(b.Notice,{className:"block-editor-link-control__search-error",status:"error",isDismissible:!1},l))},B=function(e){var t=e.searchTerm,n=e.onClick,r=e.itemProps;e=e.isSelected;return t?Object(p.createElement)(b.Button,_()({},r,{className:S()("block-editor-link-control__search-create block-editor-link-control__search-item",{"is-selected":e}),onClick:n}),Object(p.createElement)(b.Icon,{className:"block-editor-link-control__search-item-icon",icon:"insert"}),Object(p.createElement)("span",{className:"block-editor-link-control__search-item-header"},Object(p.createElement)("span",{className:"block-editor-link-control__search-item-title"},Object(p.createInterpolateElement)(Object(f.sprintf)(Object(f.__)("New page: <mark>%s</mark>"),t),{mark:Object(p.createElement)("mark",null)})))):null};function G(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=(n=Object(b.createSlotFill)("BlockEditorLinkControlViewer")).Slot,Q=(n=n.Fill,"__CREATE__"),q=function(e){var t=!1;return{promise:new Promise((function(n,r){e.then((function(e){return t?r({isCanceled:!0}):n(e)}),(function(e){return r(t?{isCanceled:!0}:e)}))})),cancel:function(){t=!0}}};function J(e){var t=e.value,n=e.settings,r=e.selectedText,o=void 0===(j=e.onChange)?E.a:j,c=void 0===(Y=e.showSuggestions)||Y,i=e.showInitialSuggestions,l=e.forceIsEditingLink,s=e.createSuggestion,a=Object(p.useRef)(),u=Object(p.useRef)(),d=Object(p.useRef)(),O=Object(C.useInstanceId)(J),g=Object(p.useState)(t&&t.url||""),v=(L=y()(g,2))[0],h=L[1],j=Object(p.useState)(void 0!==l?l:!t||!t.url),x=(Y=y()(j,2))[0],M=Y[1],L=(e=Object(p.useState)(!1),(g=y()(e,2))[0]),R=g[1],H=(j=Object(p.useState)(null),e=(Y=y()(j,2))[0],Y[1]),I=Object(p.useRef)(!1),F=Object(N.useSelect)((function(e){return{fetchSearchSuggestions:(0,e("core/block-editor").getSettings)().__experimentalFetchLinkSuggestions}}),[]).fetchSearchSuggestions;g=t&&Object(m.filterURLForDisplay)(Object(m.safeDecodeURI)(t.url))||"";function D(e){var t="URL",n=Object(m.getProtocol)(e)||"";return n.includes("mailto")&&(t="mailto"),n.includes("tel")&&(t="tel"),P()(e,"#")&&(t="internal"),Promise.resolve([{id:e,title:e,url:"URL"===t?Object(m.prependHTTP)(e):e,type:t}])}Object(p.useEffect)((function(){void 0!==l&&l!==x&&M(l)}),[l]),Object(p.useEffect)((function(){I.current&&d.current&&!d.current.contains(document.activeElement)&&(T.focus.focusable.find(d.current)[0]||d.current).focus(),I.current=!1}),[x]),Object(p.useEffect)((function(){return function(){a.current&&a.current.cancel(),u.current&&u.current.cancel()}}),[]);var U=function(){var e=k()(w.a.mark((function e(t,n){var r,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([F(t,$({},n.isInitialSuggestions?{perPage:3}:{})),D(t)]);case 2:return r=e.sent,o=!t.includes(" "),r=o&&!n.isInitialSuggestions?r[0].concat(r[1]):r[0],e.abrupt("return",K(t)?r:r.concat({title:t,url:t,type:Q}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function G(){I.current=!!d.current&&d.current.contains(document.activeElement),M(!1)}function K(e){var t=P()(e,"#");return Object(m.isURL)(e)||e&&e.includes("www.")||t}j=Object(p.useCallback)((function(e,t){return c?K(e)?D(e):U(e,t):Promise.resolve([])}),[D,F]);var X=function(){var e=k()(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),H(null),e.prev=2,u.current=q(Promise.resolve(s(t))),e.next=6,u.current.promise;case 6:n=e.sent,R(!1),n?(o(n),G()):M(!0),e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(2),e.t0&&e.t0.isCanceled)return e.abrupt("return");e.next=15;break;case 15:H(e.t0.message||Object(f.__)("An unknown error occurred during creation. Please try again.")),R(!1),M(!0);case 18:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),Y=Object(p.useMemo)((function(){return{url:t&&t.url}}),[t&&t.url]);return Object(p.createElement)("div",{tabIndex:-1,ref:d,className:"block-editor-link-control aioseo-link-format"},L&&Object(p.createElement)("div",{className:"block-editor-link-control__loading"},Object(p.createElement)(b.Spinner,null)," ",Object(f.__)("Creating"),"â€¦"),(x||!t)&&!L&&Object(p.createElement)(V,{value:v,onChange:function(){h(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")},onSelect:function(){var e=k()(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Q===n.type)return e.next=3,X(v);e.next=5;break;case 3:e.next=7;break;case 5:!function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};M(!1),o($($({},t),e))}(n,t),G();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),renderSuggestions:c?function(e){var n=e.suggestionsListProps,c=e.buildSuggestionItemProps,i=e.suggestions,l=e.selectedSuggestion,a=e.isLoading,u=e.isInitialSuggestions,d=S()("block-editor-link-control__search-results",{"is-loading":a}),m=["url","mailto","tel","internal"],g=(e=1===i.length&&m.includes(i[0].type.toLowerCase()),s&&!e&&!u);a="block-editor-link-control-search-results-label-".concat(O),e=u?Object(f.__)("Recently updated"):Object(f.sprintf)(Object(f.__)('Search results for "%s"'),v),e=Object(p.createElement)(u?p.Fragment:b.VisuallyHidden,{},Object(p.createElement)("span",{className:"block-editor-link-control__search-results-label",id:a},e));return Object(p.createElement)("div",{className:"block-editor-link-control__search-results-wrapper"},e,Object(p.createElement)("div",_()({},n,{className:d,"aria-labelledby":a}),i.map((function(e,n){return g&&Q===e.type?Object(p.createElement)(B,{searchTerm:v,onClick:k()(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X(e.title);case 2:case"end":return t.stop()}}),t)}))),key:e.type,itemProps:c(e,n),isSelected:n===l}):Q===e.type?null:Object(p.createElement)(z,{key:"".concat(e.id,"-").concat(e.type),itemProps:c(e,n),suggestion:e,index:n,onClick:function(){var n=e.title;isNaN(parseInt(e.id))&&(n=r),G(),o($($($({},t),e),{},{title:n}))},isSelected:n===l,isURL:m.includes(e.type.toLowerCase()),searchTerm:v})}))))}:null,fetchSuggestions:j,showInitialSuggestions:i,errorMessage:e}),t&&!x&&!L&&Object(p.createElement)(p.Fragment,null,Object(p.createElement)("div",{"aria-label":Object(f.__)("Currently selected"),"aria-selected":"true",className:S()("block-editor-link-control__search-item",{"is-current":!0})},Object(p.createElement)("span",{className:"block-editor-link-control__search-item-header"},Object(p.createElement)(b.ExternalLink,{className:"block-editor-link-control__search-item-title",href:t.url},t&&t.title||g),t&&t.title&&Object(p.createElement)("span",{className:"block-editor-link-control__search-item-info"},g)),Object(p.createElement)(b.Button,{isSecondary:!0,onClick:function(){return M(!0)},className:"block-editor-link-control__search-item-action"},Object(f.__)("Edit")),Object(p.createElement)(W,{fillProps:Y}))),Object(p.createElement)(A,{key:"aioseop-settings-drawer",value:t,settings:n,onChange:o,selectedText:r}))}J.ViewerFill=n;var K=J;function X(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=Object(b.withSpokenMessages)((function(e){var t=e.isActive,n=e.activeAttributes,r=e.addingLink,o=e.value,c=e.onChange,i=e.speak,l=e.stopAddingLink,s=Object(p.useMemo)(x.a,[r]),a=Object(p.useState)(),u=(e=y()(a,2))[0],O=e[1],g=(a=o.text.substring(o.start,o.end),e=Object(p.useMemo)((function(){var e=window.getSelection();if(e.rangeCount){if(e=e.getRangeAt(0),r&&!t)return e;for(var n=(n=e.startContainer).nextElementSibling||n;n.nodeType!==window.Node.ELEMENT_NODE;)n=n.parentNode;return n.closest("a")}}),[r,o.start,o.end]),Y({url:n.url,opensInNewTab:"_blank"===n.target,nofollow:!!n.rel&&n.rel.includes("nofollow"),sponsored:!!n.rel&&n.rel.includes("sponsored"),ugc:!!n.rel&&n.rel.includes("ugc"),title:n.title,isAddingLink:!n.url},u));return Object(p.createElement)(b.Popover,{key:s,anchorRef:e,focusOnMount:!!r&&"firstElement",onClose:l,position:"bottom center"},Object(p.createElement)(K,{value:g,onChange:function(e){e=Y(Y({},u),e);var n,r,s,a,p,b,v,h=(g.opensInNewTab!==e.opensInNewTab||g.sponsored!==e.sponsored||g.nofollow!==e.nofollow||g.ugc!==e.ugc)&&g.url===e.url,j=h&&void 0===e.url;O(j?e:void 0),j||(s=(r={url:n=Object(m.prependHTTP)(e.url),opensInNewWindow:e.opensInNewTab,nofollow:e.nofollow,sponsored:e.sponsored,ugc:e.ugc,title:e.title}).url,a=r.opensInNewWindow,p=r.nofollow,b=r.sponsored,v=r.ugc,j=r.title,r={type:"core/link",attributes:{url:s}},s=[],a&&(r.attributes.target="_blank",s.push("noreferrer noopener")),p&&s.push("nofollow"),b&&s.push("sponsored"),v&&s.push("ugc"),0<s.length&&(r.attributes.rel=s.join(" ")),j&&(r.attributes.title=j),r=r,Object(d.isCollapsed)(o)&&!t?(e=e.title||n,e=Object(d.applyFormat)(Object(d.create)({text:e}),r,0,e.length),c(Object(d.insert)(o,e))):c(Object(d.applyFormat)(o,r)),h||l(),function(e){if(e){var t=e.trim();if(t){if(/^\S+:/.test(t)){if(e=Object(m.getProtocol)(t),!Object(m.isValidProtocol)(e))return;if(P()(e,"http")&&!/^https?:\/\/[^/\s]/i.test(t))return;if(e=Object(m.getAuthority)(t),!Object(m.isValidAuthority)(e))return;if((e=Object(m.getPath)(t))&&!Object(m.isValidPath)(e))return;if((e=Object(m.getQueryString)(t))&&!Object(m.isValidQueryString)(e))return;if((e=Object(m.getFragment)(t))&&!Object(m.isValidFragment)(e))return}return!P()(t,"#")||Object(m.isValidFragment)(t)?1:void 0}}}(n)?i(t?Object(f.__)("Link edited.","all-in-one-seo-pack"):Object(f.__)("Link inserted.","all-in-one-seo-pack"),"assertive"):i(Object(f.__)("Warning: the link has been inserted but may have errors. Please test it.","all-in-one-seo-pack"),"assertive"))},forceIsEditingLink:r,selectedText:a}))}));var ee="core/link",te=Object(f.__)("Link","all-in-one-seo-pack"),ne={name:ee,title:te,tagName:"a",className:null,attributes:{url:"href",target:"target",rel:"rel",title:"title"},__unstablePasteRule:function(e,t){var n=t.html;t=t.plainText;return Object(d.isCollapsed)(e)?e:(t=(n||t).replace(/<[^>]+>/g,"").trim(),Object(m.isURL)(t)?(window.console.log("Created link:\n\n",t),Object(d.applyFormat)(e,{type:ee,attributes:{url:Object(g.decodeEntities)(t)}})):e)},edit:Object(b.withSpokenMessages)(function(e){s()(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u()(e);return r=t?(n=u()(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),a()(this,r)}}(n);function n(){var e;return c()(this,n),(e=t.apply(this,arguments)).addLink=e.addLink.bind(l()(e)),e.stopAddingLink=e.stopAddingLink.bind(l()(e)),e.onRemoveFormat=e.onRemoveFormat.bind(l()(e)),e.state={addingLink:!1},e}return i()(n,[{key:"addLink",value:function(){var e,t=(e=this.props).value,n=e.onChange;(e=Object(d.getTextContent)(Object(d.slice)(t)))&&Object(m.isURL)(e)?n(Object(d.applyFormat)(t,{type:ee,attributes:{url:e}})):e&&Object(m.isEmail)(e)?n(Object(d.applyFormat)(t,{type:ee,attributes:{url:"mailto:".concat(e)}})):this.setState({addingLink:!0})}},{key:"stopAddingLink",value:function(){this.setState({addingLink:!1}),this.props.onFocus()}},{key:"onRemoveFormat",value:function(){var e=(n=this.props).value,t=n.onChange,n=n.speak;t(Object(d.removeFormat)(e,ee)),n(Object(f.__)("Link removed.","all-in-one-seo-pack"),"assertive")}},{key:"render",value:function(){var e=(r=this.props).isActive,t=r.activeAttributes,n=r.value,r=r.onChange;return Object(p.createElement)(p.Fragment,null,Object(p.createElement)(O.RichTextShortcut,{type:"primary",character:"k",onUse:this.addLink}),Object(p.createElement)(O.RichTextShortcut,{type:"primaryShift",character:"k",onUse:this.onRemoveFormat}),e&&Object(p.createElement)(O.RichTextToolbarButton,{name:"link",icon:v,title:Object(f.__)("Unlink","all-in-one-seo-pack"),onClick:this.onRemoveFormat,isActive:e,shortcutType:"primaryShift",shortcutCharacter:"k"}),!e&&Object(p.createElement)(O.RichTextToolbarButton,{name:"link",icon:h,title:te,onClick:this.addLink,isActive:e,shortcutType:"primary",shortcutCharacter:"k"}),(this.state.addingLink||e)&&Object(p.createElement)(Z,{key:"aioseop-inline-link-ui",addingLink:this.state.addingLink,stopAddingLink:this.stopAddingLink,isActive:e,activeAttributes:t,value:n,onChange:r}))}}]),n}(p.Component))},re=["name"],oe=(n=wp.richText).registerFormatType,ce=n.unregisterFormatType;[ne].forEach((function(e){var t=e.name;e=o()(e,re);t&&(ce("core/link"),oe(t,e))}))}]);